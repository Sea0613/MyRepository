<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>获取元素的样式</title>
    <style>
        #box1 {
            width: 100px;
            height: 100px;
            background-color: greenyellow;
        }
    </style>

    <script>
        /**
         * 获取元素当前显示的样式
         * 
         * 语法：
         *      元素.currentStyle.样式名
         * 它可以用来读取当前元素正在显示的样式,如果当前元素没有设置该样式，则获取他的默认值
         * 
         * currentStyle只有IE8浏览器支持，其他浏览器都不支持
         * 
         *      在其他浏览器中可以使用：
         * getComputedStyle() 这个方法来获取当前样式
         * 这个方法是window的方法，可以直接使用。
         * 
         * getComputedStyle()这个方法需要两个参数：
         *      第一个：要获取样式的元素。
         *      第二个：可以传递一个伪元素，一般都传null
         * 
         *      该方法会返回一个对象，对象中封装了当前元素对应的样式
         * 可以通过 getComputedStyle().样式名 来读取样式
         * 如果获取的样式没有设置，则会获取到真实的值，而不是默认值
         * 比如：没有设置width，它不会获取到auto，而是一个长度
         * 
         * 但是该getComputedStyle()方法不支持IE8及以下的浏览器
         * 
         * **/

        window.onload = function () {
            var box1 = document.getElementById("box1");
            var btn01 = document.getElementById("btn01");
            btn01.onclick = function () {
                // alert(box1.currentStyle.width);//该方法只支持IE8
                // alert(getComputedStyle(box1,null).width);//不支持IE8及以下的浏览器、

                alert(getStyle(box1, "width"));
            };
        };

        /**
         * 处理兼容性问题
         * 
         * 定义一个函数，用来获取指定元素的当前样式
         * 参数：
         *      obj     要获取样式的元素
         *      name    要获取的样式名  
         * **/

        function getStyle(obj, name) {
            if (window.getComputedStyle) {
                return getComputedStyle(obj, null)[name];//正常浏览器的方式
            } else {
                return obj.currentStyle[name];//IE8的方式
            }//方法一

            // return window.getComputedStyle?getComputedStyle(obj,null)[name]:obj.currentStyle[name];//方法二
        }
    </script>
</head>

<body>
    <button id="btn01">nhczhmwyx</button>
    <br><br>
    <div id="box1"></div>
</body>

</html>